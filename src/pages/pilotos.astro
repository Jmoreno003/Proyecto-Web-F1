---
import { getCollection } from 'astro:content';
import Layout from '../layouts/Layout.astro';
import '../styles/pilotos.css';
import { PILOTOS } from '../consts/pilotos';
import background from '../assets/fondopilotos.jpg';
---

<Layout title="F1 Time üèéÔ∏è">
    <img id="background" src={background.src} alt="" fetchpriority="high" />
    <header class="header">
        <div class="title-container">
            <h1>Pilotos</h1>
        </div>

        <!-- Bot√≥n de men√∫ -->
        <button id="menu-icon">‚ò∞</button>

        <!-- Contenedor de botones -->
        <div id="menu-items" class="buttons-container">
            <a href="/circuitos" class="menu-button">Circuitos</a>
            <a href="/pilotos" class="menu-button">Pilotos</a>
            <a href="/escuderias" class="menu-button">Escuder√≠as</a>
            <a href="/puntos" class="menu-button">Puntos</a>
        </div>
    </header>
    <main>

        <div class="pilotos">
            {
                PILOTOS.map(({id, name}) => (
                    <a
                        href={`/pilotos/${id}`}
                        class="piloto-card"
                    >
                        <img
                            src={`/cards/${id}.avif`}
                            alt={name}
                            class="piloto-image"
                        />
                    </a>
                ))
            }
        </div>
    </main>

    <script>
        // Inicializar el comportamiento del men√∫
        function initializeMenu() {
            const menuIcon = document.getElementById('menu-icon');
            const menuItems = document.getElementById('menu-items');

            if (menuIcon && menuItems) {
                menuIcon.addEventListener('click', () => {
                    // Alternar la visibilidad del men√∫
                    if (menuItems.style.display === 'flex') {
                        menuItems.style.display = 'none';
                    } else {
                        menuItems.style.display = 'flex';
                    }
                });
            }
        }

        // Ejecutar la funci√≥n al cargar la p√°gina
        document.addEventListener('DOMContentLoaded', initializeMenu);
    </script>
</Layout>